language: objective-c
matrix:
  include:
    - osx_image: xcode7.2
      env: 'SIMULATOR="name=iPad Air,OS=9.2"'
    - osx_image: xcode7
      env: 'SIMULATOR="name=iPhone 6 Plus,OS=9.0"'

script:
  - open -b com.apple.iphonesimulator # Workaround https://github.com/travis-ci/travis-ci/issues/3040
  - cd CucumberishExample
  - env NSUnbufferedIO=YES xcodebuild test -scheme CucumberishExampleTests -workspace CucumberishExample.xcworkspace -destination "platform=iOS Simulator,${SIMULATOR}" | xcpretty -c && exit ${PIPESTATUS[0]}